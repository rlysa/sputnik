    def pull_image(self, img):
        while True:
            try:
                if not self.directory:
                    self.directory = QFileDialog.getExistingDirectory(self, 'Выберите папку')
                self.image = Image.open(BytesIO(img))
                img_name = f'{self.directory}/{dt.datetime.now().strftime("%Y%b%d-%H%M%S")}.jpg'
                self.image.resize((600, 400)).save(img_name)
                self.pixmap = QPixmap(img_name)
                self.photo_label.setPixmap(self.pixmap)
                self.image.save(img_name)
                break
            except PermissionError:
                QMessageBox.critical(self, 'Ошибка!',
                                     'Папка не выбрана или к ней нет доступа', QMessageBox.Ok)
                self.directory = QFileDialog.getExistingDirectory(self, 'Выберите папку')
